(function(){var j=[];function i(f){j.push(f);1===j.length&&h()}function e(){for(;j.length;){j[0](),j.shift()}}if(window.MutationObserver){var d=document.createElement("div");(new MutationObserver(e)).observe(d,{attributes:!0});var h=function(){d.setAttribute("x",0)}}else{h=function(){setTimeout(e)}}function c(g){this.a=b;this.b=void 0;this.f=[];var f=this;try{g(function(m){a(f,m)},function(m){B(f,m)})}catch(l){B(f,l)}}var b=2;function A(f){return new c(function(g,l){l(f)})}function z(f){return new c(function(g){g(f)})}function a(g,f){if(g.a===b){if(f===g){throw new TypeError("Promise settled with itself.")}var n=!1;try{var m=f&&f.then;if(null!==f&&"object"===typeof f&&"function"===typeof m){m.call(f,function(p){n||a(g,p);n=!0},function(p){n||B(g,p);n=!0});return}}catch(l){n||B(g,l);return}g.a=0;g.b=f;s(g)}}function B(g,f){if(g.a===b){if(f===g){throw new TypeError("Promise settled with itself.")}g.a=1;g.b=f;s(g)}}function s(f){i(function(){if(f.a!==b){for(;f.f.length;){var g=f.f.shift(),p=g[0],n=g[1],m=g[2],g=g[3];try{0===f.a?"function"===typeof p?m(p.call(void 0,f.b)):m(f.b):1===f.a&&("function"===typeof n?m(n.call(void 0,f.b)):g(f.b))}catch(l){g(l)}}}})}c.prototype.g=function(f){return this.c(void 0,f)};c.prototype.c=function(g,f){var l=this;return new c(function(n,m){l.f.push([g,f,n,m]);s(l)})};function o(f){return new c(function(g,q){function p(r){return function(t){m[r]=t;n+=1;n===f.length&&g(m)}}var n=0,m=[];0===f.length&&g(m);for(var l=0;l<f.length;l+=1){f[l].c(p(l),q)}})}function k(f){return new c(function(g,m){for(var l=0;l<f.length;l+=1){f[l].c(g,m)}})}window.Promise||(window.Promise=c,window.Promise.resolve=z,window.Promise.reject=A,window.Promise.race=k,window.Promise.all=o,window.Promise.prototype.then=c.prototype.c,window.Promise.prototype["catch"]=c.prototype.g)}());(function(){function d(h){document.body?h():document.addEventListener("DOMContentLoaded",h)}function c(h){this.a=document.createElement("div");this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(h));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.g=document.createElement("span");this.f=-1;this.b.style.cssText="display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.g.style.cssText="display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;";this.b.appendChild(this.h);this.c.appendChild(this.g);this.a.appendChild(this.b);this.a.appendChild(this.c)}function b(i,j,h){i.a.style.cssText="min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font-size:100px;font-family:"+j+"!important;"+h}function a(i){var j=i.a.offsetWidth,h=j+100;i.g.style.width=h+"px";i.c.scrollLeft=h;i.b.scrollLeft=i.b.scrollWidth+100;return i.f!==j?(i.f=j,!0):!1}function g(h,i){h.b.addEventListener("scroll",function(){a(h)&&null!==h.a.parentNode&&i(h.f)},!1);h.c.addEventListener("scroll",function(){a(h)&&null!==h.a.parentNode&&i(h.f)},!1);a(h)}function e(i,j){var h=j||{};this.family=i;this.style=h.style||"normal";this.variant=h.variant||"normal";this.weight=h.weight||"normal";this.stretch=h.stretch||"stretch";this.featureSettings=h.featureSettings||"normal"}var f=null;e.prototype.a=function(E,B){var D=E||"BESbswy",j=B||3000,w="font-style:"+this.style+";font-variant:"+this.variant+";font-weight:"+this.weight+";font-stretch:"+this.stretch+";font-feature-settings:"+this.featureSettings+";-moz-font-feature-settings:"+this.featureSettings+";-webkit-font-feature-settings:"+this.featureSettings+";",x=document.createElement("div"),v=new c(D),u=new c(D),s=new c(D),A=-1,z=-1,y=-1,i=-1,h=-1,F=-1,o=this;return new Promise(function(l,k){function n(){null!==x.parentNode&&x.parentNode.removeChild(x)}function m(){if(-1!==A&&-1!==z||-1!==A&&-1!==y||-1!==z&&-1!==y){if(A===z||A===y||z===y){if(null===f){var p=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);f=!!p&&(536>parseInt(p[1],10)||536===parseInt(p[1],10)&&11>=parseInt(p[2],10))}f?A===i&&z===i&&y===i||A===h&&z===h&&y===h||A===F&&z===F&&y===F||(n(),l(o)):(n(),l(o))}}}d(function(){function p(){if(Date.now()-q>=j){n(),k(o)}else{var r=document.hidden;if(!0===r||void 0===r){A=v.a.offsetWidth,z=u.a.offsetWidth,y=s.a.offsetWidth,m()}setTimeout(p,50)}}var q=Date.now();b(v,"sans-serif",w);b(u,"serif",w);b(s,"monospace",w);x.appendChild(v.a);x.appendChild(u.a);x.appendChild(s.a);document.body.appendChild(x);i=v.a.offsetWidth;h=u.a.offsetWidth;F=s.a.offsetWidth;p();g(v,function(r){A=r;m()});b(v,o.family+",sans-serif",w);g(u,function(r){z=r;m()});b(u,o.family+",serif",w);g(s,function(r){y=r;m()});b(s,o.family+",monospace",w)})})};window.FontFaceObserver=e;window.FontFaceObserver.prototype.check=e.prototype.a}());/*global FontFaceObserver:false */
/**
 * JS helper which uses fontfaceobserver to check if Web Font is available
 * - use session cookie (expire on browser close) to avoid unnecessary duplicate checking
 */
(function(doc) {
    var dsfLoadingFlag = 'dsf-loading',
        dsfLoadedClass = 'dsf-font';
    var dsfComponents = document.getElementsByClassName(dsfLoadingFlag);
    var pepmdxFontsLoaded = false,
        dclmdxFontsLoaded = false,
        dlpmdxFontsLoaded = false;

    // Quick test to see if font test is actually needed
    if (!dsfComponents.length) {
        return;
    }

    // @TODO try to bring-in the JS library loading dynamically, so it is not loaded if quick exit
    var dsfLoadingMatcher = new RegExp('(?:^|\\W)' + dsfLoadingFlag + '(?:\\W)', 'g'),
        pepmdxObserver = new FontFaceObserver('pepmdx'),
        dclmdxObserver = new FontFaceObserver('dclmdx'),
        dlpmdxObserver = new FontFaceObserver('dlpmdx');

    pepmdxObserver.check("", 10000).then(function () {
        pepmdxFontsLoaded = true;
        dsfLoaded();
    }, function () {
        // TODO: Remove console.log once we have validated
        // the appropriate fix is the 10 second timeout bump
        // JIRA: PRO-196584
        console.log('[fontFaceObserver] Reached Timeout - Unable to find PEP MDX Font');
    });
    dclmdxObserver.check("", 10000).then(function () {
        dclmdxFontsLoaded = true;
        dsfLoaded();
    }, function () {
        // TODO: Remove console.log once we have validated
        // the appropriate fix is the 10 second timeout bump
        // JIRA: PRO-196584
        console.log('[fontFaceObserver] Reached Timeout - Unable to find DCL MDX Font');
    });
    dlpmdxObserver.check("", 10000).then(function () {
        dlpmdxFontsLoaded = true;
        dsfLoaded();
    }, function () {
        // TODO: Remove console.log once we have validated
        // the appropriate fix is the 10 second timeout bump
        // JIRA: PRO-196584
        console.log('[fontFaceObserver] Reached Timeout - Unable to find DLP MDX Font');
    });

    // Change all found dsf-loading components from dsd-loading class to dsf-font class
    function dsfLoaded() {
        if (pepmdxFontsLoaded && dclmdxFontsLoaded && dlpmdxFontsLoaded) {
            for (var i = 0; i < dsfComponents.length; i++) {
                dsfComponents[i].className = dsfComponents[i].className.replace(dsfLoadingMatcher, dsfLoadedClass).trim();
            }
        }
    }
})(this);
