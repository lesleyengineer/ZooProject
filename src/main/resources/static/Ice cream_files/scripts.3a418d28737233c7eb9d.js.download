"use strict";window.disney=window.disney||{},window.disney.util={getCookie:function(e){var n,i=e+"=";try{n=decodeURIComponent(document.cookie).split(";")}catch(a){return console.logRAError&&console.logRAError("Error parsing cookie string: "+a),""}for(var o=0;o<n.length;o++){for(var r=n[o];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(i))return r.substring(i.length,r.length)}return""}},window.disney.nativeBridge=function(e){function n(e,n,i){return window.disney.nativeBridge.callback=window.disney.nativeBridge.callback||function(){},{commandName:e,params:n,sendFailedCallback:i,callback:"window.disney.nativeBridge.callback"}}function i(e){if(e){console.logRADebug&&console.logRADebug("nativeBridge::sendMessage - message",e);var n=e.sendFailedCallback||function(){};if(delete e.sendFailedCallback,"ios"===o)if(void 0!==window.webkit)try{window.webkit.messageHandlers.disneyRAWebViewBridge.postMessage(e)}catch(i){console.logRAError&&console.logRAError("iOS disneyRAWebViewBridge send failed: ",e),n(e.commandName,e.params,i)}else{var r=new Error("Could not find window.webkit");n(e.commandName,e.params,r)}else if("android"===o)try{window.disneyRAWebViewBridge.postMessage(e.commandName,JSON.stringify(e.params),e.callback)}catch(i){console.logRAError&&console.logRAError("Android disneyRAWebViewBridge send failed",e),n(e.commandName,e.params,i)}}}var o=e.platform;return{sendCustomMessage:function(e,o,r){i(n(e,o,r))},sendReadyMessage:function(e,o){i(n("disneyRAWebViewBridgeReady",e,o))},sendErrorMessage:function(e,o){i(n("disneyRAWebViewBridgeError",e,o))},sendCloseMessage:function(e,o){i(n("disneyRAWebViewBridgeClose",e,o))}}},function(){function e(){return window.navigator.userAgent}window.disney.getUserAgent=e;var n=e();window.disney.device={platform:{ios:-1!==n.indexOf("DisneyRAWebView/iOS"),android:-1!==n.indexOf("DisneyRAWebView/Android")},embedded:-1!==n.indexOf("DisneyRAWebView")}}(),window.disney.nativeBridgeFactory=function(){var e=window.console;return{createNativeBridge:function(){var n,i=window.disney.getUserAgent().match("DisneyRAWebView/([^s]+)");i&&i.length>1&&(n=i[1].trim().toLowerCase());var o=new window.disney.nativeBridge({platform:n});return window.disney.plugins.logger(o,e),window.disney.plugins.webErrorLogger(o,window),o}}}(),window.disney.loadEnvironmentData=function(){var e,n="Error loading the environment JSON file: ";return function(){function i(){console.logRAError&&console.logRAError(n+e.statusText)}var o="/environments/"+(window.disney.util.getCookie("envName")||"prd")+".json",r={};return(e=new XMLHttpRequest).onload=function(){if(4===e.readyState&&200===e.status)try{r=JSON.parse(e.responseText)}catch(n){console.logRAError&&console.logRAError("Error parsing the environment JSON file: "+n)}else i()},e.onerror=i,e.open("GET",o,!1),e.send(),r}}(),window.disney=window.disney||{},window.disney.plugins=window.disney.plugins||{},window.disney.plugins.logger=function(e,n){function i(i){var o=n[i];n[i]=function(){var r=[].slice.call(arguments);n._enableNativeLog&&e.sendCustomMessage("LoggerPlugin.log",{level:i,args:r}),o.apply(n,r)}}for(var o in n._enableNativeLog=window.disney.device.embedded,n._enableDebugLog=window.disney.util.getCookie&&!!window.disney.util.getCookie("enableNativeBridgeDebug"),n.enableNativeLog=function(e){n._enableNativeLog=e},n.enableDebugLog=function(e){n._enableDebugLog=e},n.logRAError=function(){var e=n._enableNativeLog;e&&(n._enableNativeLog=!1);var i=Array.prototype.slice.call(arguments);n.error.apply(n,i),n._enableNativeLog=e},n.logRADebug=function(){var e=n._enableNativeLog;if(n._enableDebugLog){e&&(n._enableNativeLog=!1);var i=Array.prototype.slice.call(arguments);n.debug.apply(n,i),n._enableNativeLog=e}},n)n.hasOwnProperty(o)&&"enableNativeLog"!==o&&"logRADebug"!==o&&"logRAError"!==o&&"function"==typeof n[o]&&i(o)},window.disney=window.disney||{},window.disney.plugins=window.disney.plugins||{},window.disney.plugins.webErrorLogger=function(e,n){var i=window.disney.util.getCookie&&!!window.disney.util.getCookie("enableNativeBridgeDebug");n.enableNativeWebErrorLogging=function(e){i=e},function(){var o=n.onerror;n.onerror=function(){var r=Array.prototype.slice.call(arguments);i&&e.sendCustomMessage("WebErrorLoggerPlugin.log",{args:r}),o&&o.apply(n,r)}}()};
//# sourceMappingURL=scripts.3a418d28737233c7eb9d.js.map